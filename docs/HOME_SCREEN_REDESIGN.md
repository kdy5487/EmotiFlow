# 홈 화면 재설계 가이드

> **날짜:** 2026-01-22
> **목적:** 기능 나열에서 → 시각적 피드백 중심 경험으로 전환

---

## 📋 **현재 문제점**

### 기존 홈 화면 (Before)
```
❌ 기능들이 순차적으로 나열된 느낌
❌ 시각적 피드백 부족
❌ 일기 작성 동기부여 약함
❌ 빠른 액션이 너무 많은 공간 차지
```

**사용자 피드백:**
> "일기를 썼는지 안 썼는지 시각적으로 명확해야 함"
> "감정을 기록해서 씨앗을 키워보아요! 같은 동기부여 필요"

---

## 🎨 **새로운 디자인 철학**

### 핵심 원칙
1. **시각적 피드백 최우선** - 기능보다 경험
2. **성장 메타포** - 일기 = 감정 씨앗에 물주기
3. **심플함** - 불필요한 요소 제거
4. **즉각적 만족감** - 일기 쓰면 바로 보이는 변화

---

## 🌱 **채택한 컨셉: 감정 씨앗 + 달력 스탬프**

### Why?
- ✅ **명확한 은유**: 일기 = 물주기 = 성장
- ✅ **시각적 즉각성**: 씨앗 → 새싹 → 나무 변화
- ✅ **연속 기록 독려**: 매일 물주면 더 잘 자람
- ✅ **감정 다양성**: 스탬프 색상으로 감정 표현

### 성장 단계 (예시)
```
Day 0-3:   🌰 씨앗 (회색)
Day 4-7:   🌱 싹 (연두색)
Day 8-14:  🌿 작은 나무 (초록색)
Day 15-30: 🌳 큰 나무 (짙은 초록)
Day 31+:   🌸 꽃 핀 나무 (컬러풀)
```

---

## 📐 **새로운 홈 화면 구조**

### Layout (상단 → 하단)

```
┌────────────────────────────────────┐
│ 1. 인사말 헤더                      │
│    "좋은 저녁이에요, 동연님! 👋"     │
│    (시간대별 인사)                   │
├────────────────────────────────────┤
│ 2. 감정 씨앗 메인 섹션 🌱          │
│    ┌──────────────────────┐        │
│    │   [큰 씨앗/나무 이미지]  │        │
│    │      (성장 단계 표시)     │        │
│    └──────────────────────┘        │
│    "14일 연속 기록 중! 🔥"          │
│    [오늘의 물주기 ✓/✗]              │
│                                    │
│    [7일 달력 스탬프]                │
│    월 화 수 목 금 토 일              │
│    🟢 🟡 🔵 ⚫ ⚫ ⚫ ⚫            │
└────────────────────────────────────┘
│ 3. CTA 버튼 (Primary)              │
│    [감정 기록하기 - 큰 버튼] 🌱     │
├────────────────────────────────────┤
│ 4. 최근 일기 (간소화)               │
│    • 일기 제목 1 (감정 뱃지)        │
│    • 일기 제목 2                    │
│    [전체보기 →]                     │
├────────────────────────────────────┤
│ 5. 감정 트렌드 (차트 간소화)        │
│    [미니 차트]                      │
└────────────────────────────────────┘
│ (빠른 액션은 하단 또는 숨김)        │
```

---

## 🎯 **섹션별 상세 설계**

### 1️⃣ 인사말 헤더
- **높이:** 80px
- **내용:** 
  - 시간대별 인사 (아침/오후/저녁)
  - 사용자 이름
  - 다크모드 토글 (우측 상단)

### 2️⃣ 감정 씨앗 메인 섹션 ⭐ (핵심)
- **높이:** 400px (화면의 40%)
- **구성:**
  ```
  ┌─────────────────────────────┐
  │                             │
  │     [큰 씨앗/나무 이미지]      │
  │       (240x240px)           │
  │                             │
  │  "14일 연속 기록 중! 🔥"      │
  │  "Level 3: 새싹 단계"        │
  │                             │
  │  ┌─────────────────────┐    │
  │  │ 오늘의 물주기         │    │
  │  │ ✓ 완료 / ✗ 미완료    │    │
  │  └─────────────────────┘    │
  │                             │
  │  [7일 달력 미니뷰]           │
  │  월 화 수 목 금 토 일        │
  │  🟢 🟡 🔵 ⚪ ⚪ ⚪ ⚪      │
  │  (감정별 색상 스탬프)        │
  │                             │
  └─────────────────────────────┘
  ```

**상호작용:**
- 씨앗/나무 이미지 탭 → 상세 통계 페이지
- 달력 스탬프 탭 → 달력 페이지

### 3️⃣ CTA 버튼
- **높이:** 60px
- **스타일:** 
  - 큰 버튼, 그라데이션
  - 아이콘: 🌱 또는 ✍️
  - 텍스트: "오늘의 감정 기록하기" (미완료 시)
  - 텍스트: "오늘의 감정 확인하기" (완료 시)

### 4️⃣ 최근 일기 (간소화)
- **높이:** 자동 (최대 3개)
- **스타일:** 
  - 리스트 아이템 간소화
  - 감정 뱃지만 표시
  - 썸네일 제거

### 5️⃣ 감정 트렌드
- **높이:** 200px
- **스타일:** 
  - 미니 차트 (라인 또는 바)
  - "이번 주 감정 변화"

### 6️⃣ 빠른 액션 (Optional)
- **위치:** 최하단 또는 숨김
- **스타일:** 
  - 1줄로 간소화
  - 아이콘만 표시
  - 또는 햄버거 메뉴 안으로 이동

---

## 🎨 **시각적 요소 상세**

### 성장 단계별 이미지
**필요한 에셋:**
```
assets/images/growth/
  - seed_stage_0.png   (씨앗 - 회색)
  - sprout_stage_1.png (싹 - 연두)
  - plant_stage_2.png  (작은 나무)
  - tree_stage_3.png   (큰 나무)
  - bloom_stage_4.png  (꽃 핀 나무)
```

### 달력 스탬프 색상
```dart
final emotionStampColors = {
  '기쁨': 0xFFFFD700,   // 🟡 금색
  '슬픔': 0xFF6B73FF,   // 🔵 파랑
  '분노': 0xFFFF6B6B,   // 🔴 빨강
  '평온': 0xFF87CEEB,   // 🟢 하늘색
  '걱정': 0xFF9370DB,   // 🟣 보라
  // ... 기타
  '미작성': 0xFFE0E0E0, // ⚪ 회색
};
```

---

## 📊 **데이터 구조**

### GrowthStatus (새로운 모델)
```dart
class GrowthStatus {
  final int consecutiveDays;    // 연속 기록 일수
  final int totalDiaryCount;    // 총 일기 수
  final int currentLevel;       // 현재 레벨 (0-4)
  final bool todayCompleted;    // 오늘 작성 여부
  final List<DailyStamp> last7Days; // 최근 7일 스탬프
  
  String get stageName {
    switch (currentLevel) {
      case 0: return '씨앗';
      case 1: return '싹';
      case 2: return '작은 나무';
      case 3: return '큰 나무';
      case 4: return '꽃 핀 나무';
      default: return '씨앗';
    }
  }
  
  String get stageImagePath {
    return 'assets/images/growth/stage_$currentLevel.png';
  }
}

class DailyStamp {
  final DateTime date;
  final bool hasEntry;
  final String? primaryEmotion;
  
  Color get stampColor {
    if (!hasEntry) return Color(0xFFE0E0E0);
    return EmotionCharacterMap.getEmotionColors(primaryEmotion)['primary']!;
  }
}
```

---

## 🔄 **다른 제안 컨셉 (참고용)**

### 컨셉 2: 감정 캐릭터 레벨업
- **장점:** 게임화, 친근함
- **단점:** 게임 느낌 과다, 진정성 약화
- **채택하지 않은 이유:** 감정 기록의 의미가 게임으로 전락할 수 있음

### 컨셉 3: 감정 크리스탈 성장
- **장점:** 독특함, 아름다움
- **단점:** 구현 복잡, 은유 추상적
- **채택하지 않은 이유:** 씨앗 메타포가 더 직관적

---

## ✅ **구현 단계**

### Phase 1: 핵심 비주얼
- [ ] `GrowthStatus` 모델 생성
- [ ] `GrowthVisualization` 위젯 생성
- [ ] 성장 단계 이미지 에셋 (임시 아이콘 사용)
- [ ] 7일 달력 스탬프 위젯

### Phase 2: 홈 화면 재구성
- [ ] 인사말 헤더 유지
- [ ] 감정 씨앗 섹션 배치
- [ ] CTA 버튼 추가
- [ ] 최근 일기 간소화
- [ ] 빠른 액션 하단 이동

### Phase 3: 인터랙션
- [ ] 씨앗 탭 → 상세 통계
- [ ] 스탬프 탭 → 달력
- [ ] 성장 애니메이션 (Lottie 또는 커스텀)

---

## 🎯 **예상 효과**

### Before (기존)
- 기능 위주 나열
- 시각적 피드백 부족
- 동기부여 약함

### After (신규)
- ✅ 일기 작성 여부 한눈에 확인
- ✅ 연속 기록 독려 (스트릭)
- ✅ 성장 메타포로 재미 부여
- ✅ 심플하고 집중된 레이아웃

---

## 📝 **다음 작업**

1. **임시 성장 이미지 생성** (또는 아이콘 사용)
2. **GrowthVisualization 위젯 구현**
3. **홈 화면 body 완전 재작성**
4. **사용자 피드백 수집 & 반복**

---

**마지막 업데이트:** 2026-01-22
**작성자:** AI Assistant & 사용자 협업

