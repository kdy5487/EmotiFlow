# í¬íŠ¸í´ë¦¬ì˜¤ìš© íŠ¸ëŸ¬ë¸”ìŠˆíŒ… (ë…¸ì…˜ ë³µì‚¬ìš©)

> **ë…¸ì…˜ì— ë°”ë¡œ ë³µì‚¬í•˜ì—¬ ì‚¬ìš©í•˜ì„¸ìš”**

---

## ğŸ“ í”„ë¡œì íŠ¸ ì•„í‚¤í…ì²˜ ë° ê¸°ìˆ  ìŠ¤íƒ

### ê¸°ìˆ  ìŠ¤íƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    í”„ë¡ íŠ¸ì—”ë“œ                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Flutter 3.x + Dart 3.5.3                                â”‚
â”‚ Material Design 3 (ë‹¤í¬/ë¼ì´íŠ¸ í…Œë§ˆ)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ìƒíƒœ ê´€ë¦¬ & ë¼ìš°íŒ…                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Riverpod 2.4.9 (StateNotifier, StreamProvider)          â”‚
â”‚ GoRouter 13.2.0 (ì„ ì–¸ì  ë¼ìš°íŒ…, ë”¥ë§í¬)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ë°±ì—”ë“œ & ì„œë¹„ìŠ¤                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Firebase Authentication (Google ë¡œê·¸ì¸)                  â”‚
â”‚ Cloud Firestore (ì‹¤ì‹œê°„ ë°ì´í„° ë™ê¸°í™”)                     â”‚
â”‚ Firebase Storage (ì´ë¯¸ì§€ ì €ì¥)                           â”‚
â”‚ Google Gemini 2.5 Flash API (AI ëŒ€í™”í˜• ì¼ê¸°)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ì•„í‚¤í…ì²˜ íŒ¨í„´                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Clean Architecture (ì¼ê¸° ê¸°ëŠ¥)                           â”‚
â”‚ MVVM Pattern (í™ˆ, ì„¤ì • ë“± ê°„ë‹¨í•œ ê¸°ëŠ¥)                    â”‚
â”‚ Feature-based í´ë” êµ¬ì¡°                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì•„í‚¤í…ì²˜ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Presentation Layer                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   View   â”‚  â”‚  Widget  â”‚  â”‚ ViewModelâ”‚  â”‚ Provider â”‚   â”‚
â”‚  â”‚  (UI)    â”‚  â”‚ (ì¬ì‚¬ìš©)  â”‚  â”‚ (ë¡œì§)   â”‚  â”‚ (ìƒíƒœ)   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Domain Layer                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚ Entitiesâ”‚  â”‚UseCases  â”‚  â”‚Repositoryâ”‚                  â”‚
â”‚  â”‚ (ìˆœìˆ˜ê°ì²´)â”‚  â”‚(ë¹„ì¦ˆë‹ˆìŠ¤)â”‚  â”‚(ì¸í„°í˜ì´ìŠ¤)â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Data Layer                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚  Models  â”‚  â”‚Repositoryâ”‚  â”‚DataSourceâ”‚                 â”‚
â”‚  â”‚  (DTO)   â”‚  â”‚(êµ¬í˜„ì²´)   â”‚  â”‚(Firebase)â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ìƒíƒœ ê´€ë¦¬ ì „ëµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Firestore Stream                         â”‚
â”‚              (ì‹¤ì‹œê°„ ë°ì´í„° ê³µê¸‰)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â†“
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  StreamProvider      â”‚
            â”‚  (Riverpod)          â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â†“
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  DiaryProvider       â”‚
            â”‚  (ë°ì´í„° ìƒíƒœ)        â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â†“                               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DiaryListUi   â”‚              â”‚   UI ë Œë”ë§   â”‚
â”‚ State         â”‚              â”‚  (ì¡°í•©)       â”‚
â”‚ (ê²€ìƒ‰/í•„í„°)    â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ë„¤ë¹„ê²Œì´ì…˜ íë¦„

```
Splash â†’ Onboarding â†’ Login
                          â†“
                    MainApp (Bottom Nav)
                          â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â†“                 â†“                 â†“
    HomePage         DiaryPage          AIPage
        â”‚                 â”‚                 â”‚
        â”‚                 â”œâ”€ Write          â”‚
        â”‚                 â”œâ”€ Detail         â”‚
        â”‚                 â””â”€ Chat           â”‚
        â”‚                                   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
                    ProfilePage
                          â†“
                    SettingsPage
```

### ì•„í‚¤í…ì²˜ ì„¤ê³„ ë° ì„ íƒ ì´ìœ 

Flutter + Clean Architecture + MVVM íŒ¨í„´ìœ¼ë¡œ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤. Riverpodì€ Firebase Streamê³¼ ìì—°ìŠ¤ëŸ½ê²Œ í†µí•©ë˜ì–´ ì‹¤ì‹œê°„ ë°ì´í„° ë™ê¸°í™”ë¥¼ ì§€ì›í•˜ë©°, ë³µì¡í•œ ìƒíƒœ ê´€ë¦¬(ê²€ìƒ‰, í•„í„°, ì‚­ì œ ëª¨ë“œ)ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤. ì¼ê¸° ê¸°ëŠ¥ì€ Clean Architectureë¥¼ ì ìš©í•´ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ ë°ì´í„° ì†ŒìŠ¤ë¥¼ ë¶„ë¦¬í–ˆê³ , ê°„ë‹¨í•œ ê¸°ëŠ¥ì€ MVVM íŒ¨í„´ë§Œ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. Firestore Streamì€ ë°ì´í„° ê³µê¸‰ë§Œ ë‹´ë‹¹í•˜ê³ , UI ìƒíƒœ(ê²€ìƒ‰ì–´, í•„í„° ë“±)ëŠ” ë³„ë„ë¡œ ê´€ë¦¬í•˜ì—¬ ì‹¤ì‹œê°„ ë™ê¸°í™” ì¤‘ì—ë„ í™”ë©´ í”ë“¤ë¦¼ ì—†ì´ ì•ˆì •ì ì¸ UXë¥¼ ì œê³µí•©ë‹ˆë‹¤. Feature-based í´ë” êµ¬ì¡°ë¡œ ê¸°ëŠ¥ë³„ ëª¨ë“ˆí™”í•˜ì—¬ í™•ì¥ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„±ì„ í™•ë³´í–ˆìŠµë‹ˆë‹¤.

---

## ğŸ“Š ê²°ê³¼ ë° ë°°ìš´ ì 

### ì£¼ìš” ì„±ê³¼

- **ì„±ëŠ¥ ìµœì í™”**: UI ì§€ì—° ì‹œê°„ 95% ê°œì„  (2200ms â†’ 50ms)
- **ì½”ë“œ í’ˆì§ˆ**: ëŒ€ê·œëª¨ ë¦¬íŒ©í† ë§ìœ¼ë¡œ íŒŒì¼ í¬ê¸° 50% ê°ì†Œ (1005ì¤„ â†’ 500ì¤„)
- **ì•„í‚¤í…ì²˜**: Clean Architecture + MVVM íŒ¨í„´ìœ¼ë¡œ í™•ì¥ì„± í™•ë³´
- **ìƒíƒœ ê´€ë¦¬**: Firestore Streamê³¼ UI ìƒíƒœ ë¶„ë¦¬ë¡œ ì•ˆì •ì ì¸ UX êµ¬í˜„

### í•µì‹¬ ë°°ìš´ ì 

- **ì‹¤ì‹œê°„ ë°ì´í„°ì™€ UI ìƒíƒœëŠ” ë°˜ë“œì‹œ ë¶„ë¦¬í•´ì•¼ í•œë‹¤**: Stream ê°±ì‹  ì‹œë§ˆë‹¤ UI ìƒíƒœê°€ í”ë“¤ë¦¬ì§€ ì•Šë„ë¡ `DiaryListUiState`ë¡œ ë¶„ë¦¬í•˜ì—¬ ì•ˆì •ì„± í™•ë³´
- **AI ì—°ë™ ê¸°ëŠ¥ì€ "ì„±ê³µ"ë³´ë‹¤ ì‹¤íŒ¨ ì‹œ UX ì„¤ê³„ê°€ ë” ì¤‘ìš”**: Fallback ë©”ì‹œì§€ ì¦‰ì‹œ í‘œì‹œ ì „ëµìœ¼ë¡œ API ì‹¤íŒ¨ ì‹œì—ë„ ìì—°ìŠ¤ëŸ¬ìš´ ì‚¬ìš©ì ê²½í—˜ ì œê³µ
- **Feature ë‹¨ìœ„ êµ¬ì¡°ê°€ ê¸°ëŠ¥ í™•ì¥/ìˆ˜ì •ì— ë§¤ìš° ìœ ë¦¬í•¨**: ì¼ê¸° ê¸°ëŠ¥ì— Clean Architecture ì ìš©, ê°„ë‹¨í•œ ê¸°ëŠ¥ì€ MVVMë§Œ ì‚¬ìš©í•˜ì—¬ ì ì ˆí•œ ë³µì¡ë„ ìœ ì§€
- **ë™ê¸° API í˜¸ì¶œì€ UI ë¸”ë¡œí‚¹ì˜ ì£¼ìš” ì›ì¸**: Fallback ìš°ì„  í‘œì‹œ + ë¹„ë™ê¸° í˜¸ì¶œë¡œ ì²´ê° ì„±ëŠ¥ ëŒ€í­ í–¥ìƒ
- **ë¶ˆí•„ìš”í•œ API í˜¸ì¶œ ì œê±°ë¡œ ì„±ëŠ¥ ê°œì„ **: ë””ë²„ê¹…ìš© `listAvailableModels()` ì œê±°ë¡œ 700ms ì ˆì•½

### íšŒê³ 

#### ì˜í•œ ì 

- **ìŠ¤íŠ¸ë¦¼ ë°ì´í„°ì™€ UI ìƒíƒœ ë¶„ë¦¬ ì›ì¹™ì„ ëê¹Œì§€ ìœ ì§€**: ì‹¤ì‹œê°„ ë™ê¸°í™” ì¤‘ì—ë„ í™”ë©´ í”ë“¤ë¦¼ ì—†ëŠ” ì•ˆì •ì ì¸ UX êµ¬í˜„
- **AI ì‹¤íŒ¨ë¥¼ ì „ì œë¡œ í•œ UX ì„¤ê³„**: Fallback ì „ëµìœ¼ë¡œ ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ë‚˜ API ì‹¤íŒ¨ ì‹œì—ë„ ìì—°ìŠ¤ëŸ¬ìš´ ëŒ€í™” ìœ ì§€
- **ì•„í‚¤í…ì²˜ ì„ íƒì˜ ì ì ˆì„±**: ë³µì¡í•œ ê¸°ëŠ¥ì€ Clean Architecture, ê°„ë‹¨í•œ ê¸°ëŠ¥ì€ MVVMìœ¼ë¡œ ì ì ˆí•œ ë³µì¡ë„ ìœ ì§€
- **ì„±ëŠ¥ ìµœì í™”ì— ëŒ€í•œ ì§‘ì°©**: 95% ì„±ëŠ¥ ê°œì„ , 50% ì½”ë“œ ê°ì†Œ ë“± ìˆ˜ì¹˜ì  ì„±ê³¼ ë‹¬ì„±

#### ì•„ì‰¬ìš´ ì 

- **Provider/ViewModel ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ë¶€ì¡±**: UseCaseì™€ ViewModelì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œ ë¯¸ì‘ì„±
- **ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ ì²´ê³„ ë¶€ì¬**: ì‹¤ì œ ì‚¬ìš©ì í™˜ê²½ì—ì„œì˜ ì„±ëŠ¥ ì§€í‘œ ìˆ˜ì§‘ ì‹œìŠ¤í…œ ì—†ìŒ
- **ì—ëŸ¬ í•¸ë“¤ë§ ì¼ê´€ì„± ë¶€ì¡±**: ì¼ë¶€ ê¸°ëŠ¥ì—ì„œ ì—ëŸ¬ ì²˜ë¦¬ ë°©ì‹ì´ í†µì¼ë˜ì§€ ì•ŠìŒ

#### ê°œì„  ë°©í–¥

- **í•µì‹¬ Provider ë° UseCase í…ŒìŠ¤íŠ¸ ì¶”ê°€**: `DiaryProvider`, `GetDiariesUseCase` ë“± í•µì‹¬ ë¡œì§ì— ëŒ€í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±
- **ë¦¬ìŠ¤íŠ¸/ì´ë¯¸ì§€ ë Œë”ë§ ì„±ëŠ¥ ìµœì í™”**: ëŒ€ëŸ‰ ë°ì´í„° í‘œì‹œ ì‹œ ê°€ìƒ ìŠ¤í¬ë¡¤ë§ ë° ì´ë¯¸ì§€ ìºì‹± ì ìš©
- **ì—ëŸ¬ í•¸ë“¤ë§ í‘œì¤€í™”**: ê³µí†µ ì—ëŸ¬ ì²˜ë¦¬ ìœ í‹¸ë¦¬í‹° ë° ì—ëŸ¬ íƒ€ì… ì •ì˜
- **ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ ë„êµ¬ ë„ì…**: Firebase Performance Monitoring ë“±ìœ¼ë¡œ ì‹¤ì œ ì‚¬ìš©ì í™˜ê²½ ì„±ëŠ¥ ì¶”ì 

---

## 1ï¸âƒ£ ê°ì • ì„ íƒ UI ì§€ì—° ë¬¸ì œ (95% ì„±ëŠ¥ ê°œì„ )

### ë¬¸ì œ ìƒí™©
AI ì±„íŒ… í˜ì´ì§€ ì§„ì… ì‹œ 2-3ì´ˆê°„ ë¹ˆ í™”ë©´ì´ í‘œì‹œë˜ì–´ ì‚¬ìš©ì ê²½í—˜ì´ ì €í•˜ë˜ì—ˆìŠµë‹ˆë‹¤.

### ì›ì¸ ë¶„ì„
1. `listAvailableModels()` ë¶ˆí•„ìš”í•œ API í˜¸ì¶œ (700ms)
2. `generateEmotionSelectionPrompt()` ë™ê¸° ëŒ€ê¸° (1500ms)
3. ViewModel ì´ˆê¸°í™” + setState ëŒ€ê¸°

**ì´ ì§€ì—° ì‹œê°„: 2200ms (2.2ì´ˆ)**

### í•´ê²° ê³¼ì •

#### 1ë‹¨ê³„: ë¶ˆí•„ìš”í•œ API í˜¸ì¶œ ì œê±°
```dart
// BEFORE: ë§¤ë²ˆ í˜¸ì¶œ
void _startNewConversation() async {
  await GeminiService.instance.listAvailableModels(); // âŒ 700ms
  // ...
}

// AFTER: ì œê±°
void _startNewConversation() async {
  // listAvailableModels í˜¸ì¶œ ì œê±° âœ…
  // ...
}
```

#### 2ë‹¨ê³„: Fallback ì¦‰ì‹œ í‘œì‹œ ì „ëµ
```dart
// BEFORE: API ì‘ë‹µ ëŒ€ê¸° í›„ UI í‘œì‹œ
void _startNewConversation() async {
  try {
    final initialPrompt = await GeminiService.instance.generateEmotionSelectionPrompt(); // âŒ 1500ms ëŒ€ê¸°
    viewModel.addChatMessage(ChatMessage(content: initialPrompt, ...));
  } catch (e) {
    // Fallback
  }
}

// AFTER: Fallback ì¦‰ì‹œ í‘œì‹œ + API ë¹„ë™ê¸° í˜¸ì¶œ
void _startNewConversation() async {
  // 1. Fallback ë©”ì‹œì§€ë¥¼ ë¨¼ì € í‘œì‹œ (ì¦‰ì‹œ í‘œì‹œ)
  const fallbackMessage = 'ì•ˆë…•í•˜ì„¸ìš”! ì˜¤ëŠ˜ í•˜ë£¨ëŠ” ì–´ë– ì…¨ë‚˜ìš”?';
  viewModel.addChatMessage(ChatMessage(
    id: 'init_${DateTime.now().millisecondsSinceEpoch}',
    content: fallbackMessage,
    isFromAI: true,
    timestamp: DateTime.now(),
  ));
  
  // 2. API ì‘ë‹µì„ ë¹„ë™ê¸°ë¡œ ë°›ì•„ì„œ ì—…ë°ì´íŠ¸ (UI ë¸”ë¡œí‚¹ ì—†ìŒ)
  _loadInitialPromptAsync(viewModel);
}

void _loadInitialPromptAsync(dynamic viewModel) async {
  try {
    final initialPrompt = await GeminiService.instance.generateEmotionSelectionPrompt();
    // API ì‘ë‹µì´ Fallbackê³¼ ë‹¤ë¥´ë©´ ì‚¬ìš© (ì„ íƒì  ì—…ë°ì´íŠ¸)
  } catch (e) {
    // Fallback ìœ ì§€
  }
}
```

### ê²°ê³¼
- **Before**: 2200ms (2.2ì´ˆ)
- **After**: 50ms
- **ê°œì„ ìœ¨: 95%** âš¡

### ë°°ìš´ ì 
- ë™ê¸° API í˜¸ì¶œì€ UI ë¸”ë¡œí‚¹ì˜ ì£¼ìš” ì›ì¸
- Fallback ì „ëµìœ¼ë¡œ ì¦‰ê°ì ì¸ í”¼ë“œë°± ì œê³µ ê°€ëŠ¥
- ë¶ˆí•„ìš”í•œ API í˜¸ì¶œ ì œê±°ë¡œ ì„±ëŠ¥ ê°œì„ 

---

## 2ï¸âƒ£ Firestore Stream ê°±ì‹ ê³¼ ê²€ìƒ‰/í•„í„° UI ìƒíƒœ ì¶©ëŒ

### ë¬¸ì œ ìƒí™©
Firestore Streamì´ ê°±ì‹ ë  ë•Œë§ˆë‹¤ ë¦¬ìŠ¤íŠ¸ê°€ ì¬ë Œë”ë§ë˜ë©°, ê²€ìƒ‰Â·í•„í„°Â·ì‚­ì œëª¨ë“œ ê°™ì€ UI ìƒíƒœê°€ í”ë“¤ë¦¬ëŠ” ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.

### ì›ì¸ ë¶„ì„
- StreamBuilder ë‚´ë¶€ì—ì„œ ê²€ìƒ‰/í•„í„°ë¥¼ ì§ì ‘ ì²˜ë¦¬
- Stream ê°±ì‹  ì‹œë§ˆë‹¤ í•„í„°ë§/ì •ë ¬ ë¡œì§ì´ ì¬ì‹¤í–‰
- UI ìƒíƒœ(ê²€ìƒ‰ì–´, í•„í„°, ì‚­ì œ ëª¨ë“œ)ê°€ ë°ì´í„° ìƒíƒœì™€ í˜¼ì¬

### í•´ê²° ê³¼ì •

#### Before: StreamBuilder ë‚´ë¶€ì—ì„œ ì§ì ‘ ì²˜ë¦¬
```dart
StreamBuilder(
  stream: firestore.diariesStream(userId),
  builder: (_, snapshot) {
    final docs = snapshot.data?.docs ?? [];
    // âŒ Stream ê°±ì‹  ì‹œë§ˆë‹¤ í•„í„°ë§ ë¡œì§ ì¬ì‹¤í–‰
    final filtered = docs.where((d) => d['title'].contains(query)).toList();
    return ListView(...);
  },
);
```

#### After: ë°ì´í„° ìƒíƒœì™€ UI ìƒíƒœ ë¶„ë¦¬
```dart
// 1. UI ìƒíƒœë¥¼ ë³„ë„ í´ë˜ìŠ¤ë¡œ ë¶„ë¦¬
class DiaryListUiState {
  final bool isSearchActive;
  final bool isDeleteMode;
  final Set<String> selectedEntryIds;
  final Map<String, dynamic> currentFilters;
  final String currentSortBy;
  
  const DiaryListUiState({
    this.isSearchActive = false,
    this.isDeleteMode = false,
    this.selectedEntryIds = const {},
    this.currentFilters = const {},
    this.currentSortBy = 'date',
  });
}

// 2. ê²€ìƒ‰/í•„í„° ì ìš©ì„ ë‹¨ì¼ ì§„ì…ì ìœ¼ë¡œ í†µí•©
void _applySearchAndFilter() {
  final ui = ref.read(diaryListUiProvider);
  ref.read(diaryProvider.notifier).searchAndFilter(
    searchQuery: _searchController.text.trim(),
    filters: ui.currentFilters,
    sortBy: ui.currentSortBy,
  );
}

// 3. Streamì€ ë°ì´í„° ê³µê¸‰ë§Œ, í•„í„°ë§ì€ Providerì—ì„œ ì²˜ë¦¬
final diaryState = ref.watch(diaryProvider);
final entries = diaryState.filteredEntries; // ì´ë¯¸ í•„í„°ë§ëœ ë°ì´í„°
```

### ê²°ê³¼
- âœ… ì‹¤ì‹œê°„ ë™ê¸°í™” ì¤‘ì—ë„ í™”ë©´ í”ë“¤ë¦¼ ì—†ìŒ
- âœ… ë¶ˆí•„ìš”í•œ ë¦¬ë¹Œë“œ ìµœì†Œí™”
- âœ… UI ìƒíƒœì™€ ë°ì´í„° ìƒíƒœ ëª…í™•íˆ ë¶„ë¦¬

### ë°°ìš´ ì 
- Streamì€ "ì›ë³¸ ë°ì´í„° ê³µê¸‰" ì—­í• ë§Œ ë‹´ë‹¹
- UI ìƒíƒœëŠ” ViewModelì—ì„œ ë³„ë„ ê´€ë¦¬
- ìµœì¢… ë Œë”ë§ ë‹¨ê³„ì—ì„œë§Œ ì¡°ê±´ì„ ì ìš©

---

## 3ï¸âƒ£ initStateì—ì„œ Provider ì ‘ê·¼ìœ¼ë¡œ ì¸í•œ ëŸ°íƒ€ì„ ìœ„í—˜

### ë¬¸ì œ ìƒí™©
`initState()`ì—ì„œ `ref.read()` í›„ ì¦‰ì‹œ `setState()` í˜¸ì¶œ ì‹œ, ë¹Œë“œ íƒ€ì´ë°ì— ë”°ë¼ `setState/build` ì¶©ëŒ ê°€ëŠ¥ì„±ì´ ìˆì—ˆìŠµë‹ˆë‹¤.

### ì›ì¸ ë¶„ì„
- `initState()`ëŠ” ìœ„ì ¯ì´ ìƒì„±ë˜ëŠ” ì‹œì ì— í˜¸ì¶œ
- `build()` ë©”ì„œë“œê°€ ì‹¤í–‰ë˜ê¸° ì „ì— ìƒíƒœ ë³€ê²½ ì‹œë„
- Flutter ìƒëª…ì£¼ê¸°ì™€ ì¶©ëŒ ê°€ëŠ¥

### í•´ê²° ê³¼ì •

#### Before: initStateì—ì„œ ì§ì ‘ ì ‘ê·¼
```dart
@override
void initState() {
  super.initState();
  final mode = ref.read(themeProvider).themeMode;
  setState(() => _selectedThemeMode = mode); // âŒ build íƒ€ì´ë°ê³¼ ì¶©ëŒ ê°€ëŠ¥
}
```

#### After: ì²« í”„ë ˆì„ ì´í›„ì— ìƒíƒœ ë°˜ì˜
```dart
@override
void initState() {
  super.initState();
  WidgetsBinding.instance.addPostFrameCallback((_) {
    // âœ… ì²« í”„ë ˆì„ ë Œë”ë§ ì™„ë£Œ í›„ ì‹¤í–‰
    ref.read(diaryListUiProvider.notifier).loadPrefs();
    final authState = ref.read(authProvider);
    if (authState.user != null) {
      ref.read(diaryProvider.notifier).refreshDiaryEntries(authState.user!.uid);
    }
    _applySearchAndFilter();
  });
}
```

### ê²°ê³¼
- âœ… ëŸ°íƒ€ì„ ì•ˆì •ì„± í–¥ìƒ
- âœ… ë¹Œë“œ íƒ€ì´ë° ì¶©ëŒ ë°©ì§€
- âœ… Flutter ìƒëª…ì£¼ê¸° ì¤€ìˆ˜

### ë°°ìš´ ì 
- `addPostFrameCallback`ìœ¼ë¡œ ì²« í”„ë ˆì„ ì´í›„ ì´ˆê¸°í™”
- ë¹„ë™ê¸° ìƒíƒœ ê´€ë¦¬ë¥¼ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬
- Flutter ìƒëª…ì£¼ê¸° ì´í•´ì˜ ì¤‘ìš”ì„±

---

## 4ï¸âƒ£ ëŒ€ê·œëª¨ ì½”ë“œ ë¦¬íŒ©í† ë§ (50% ì½”ë“œ ê°ì†Œ)

### ë¬¸ì œ ìƒí™©
`diary_write_page.dart` íŒŒì¼ì´ 1005ì¤„ë¡œ ë¹„ëŒ€í™”ë˜ì–´ ìœ ì§€ë³´ìˆ˜ê°€ ì–´ë ¤ì›Œì¡ŒìŠµë‹ˆë‹¤.

### ì›ì¸ ë¶„ì„
- ì ì§„ì  ê¸°ëŠ¥ ì¶”ê°€ë¡œ ì¸í•œ ì½”ë“œ ë¹„ëŒ€í™”
- ìœ„ì ¯ ë¶„ë¦¬ ë¯¸í¡
- ë‹¨ì¼ ì±…ì„ ì›ì¹™ ìœ„ë°˜

### í•´ê²° ê³¼ì •

#### Before: ë‹¨ì¼ íŒŒì¼ì— ëª¨ë“  ë¡œì§
```
diary_write_page.dart (1005ì¤„)
â”œâ”€â”€ ëª¨ë“  UI ë¡œì§ í¬í•¨
â”œâ”€â”€ ê°ì • ì„ íƒ ì„¹ì…˜ (200ì¤„)
â”œâ”€â”€ ì œëª© ì…ë ¥ ì„¹ì…˜ (50ì¤„)
â”œâ”€â”€ ë‚´ìš© ì…ë ¥ ì„¹ì…˜ (55ì¤„)
â”œâ”€â”€ ê·¸ë¦¼ ê·¸ë¦¬ê¸° ì„¹ì…˜ (80ì¤„)
â””â”€â”€ ì„¤ì • ì„¹ì…˜ (90ì¤„)
```

#### After: ìœ„ì ¯ ë¶„ë¦¬ ë° ëª¨ë“ˆí™”
```
diary_write_page.dart (500ì¤„) - 50% ê°ì†Œ
â”œâ”€â”€ widgets/
â”‚   â”œâ”€â”€ emotion_selector_section.dart (200ì¤„)
â”‚   â”œâ”€â”€ title_input_card.dart (50ì¤„)
â”‚   â”œâ”€â”€ content_input_card.dart (55ì¤„)
â”‚   â”œâ”€â”€ drawing_section_card.dart (80ì¤„)
â”‚   â””â”€â”€ settings_section_card.dart (90ì¤„)
```

#### Before ì½”ë“œ ì˜ˆì‹œ
```dart
// 1005ì¤„ì§œë¦¬ ë‹¨ì¼ íŒŒì¼
class DiaryWritePage extends StatefulWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: Column(
        children: [
          // ê°ì • ì„ íƒ (200ì¤„ì˜ ì¸ë¼ì¸ ì½”ë“œ)
          // ì œëª© ì…ë ¥ (50ì¤„ì˜ ì¸ë¼ì¸ ì½”ë“œ)
          // ë‚´ìš© ì…ë ¥ (55ì¤„ì˜ ì¸ë¼ì¸ ì½”ë“œ)
          // ê·¸ë¦¼ ê·¸ë¦¬ê¸° (80ì¤„ì˜ ì¸ë¼ì¸ ì½”ë“œ)
          // ì„¤ì • (90ì¤„ì˜ ì¸ë¼ì¸ ì½”ë“œ)
        ],
      ),
    );
  }
}
```

#### After ì½”ë“œ ì˜ˆì‹œ
```dart
// 500ì¤„ë¡œ ì¶•ì†Œ
class DiaryWritePage extends StatefulWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: Column(
        children: [
          EmotionSelectorSection(viewModel: viewModel),
          TitleInputCard(viewModel: viewModel),
          ContentInputCard(viewModel: viewModel),
          DrawingSectionCard(viewModel: viewModel),
          SettingsSectionCard(viewModel: viewModel),
        ],
      ),
    );
  }
}
```

### ê²°ê³¼
- **Before**: 1005ì¤„
- **After**: 500ì¤„
- **ê°ì†Œìœ¨: 50%** âš¡
- ê°€ë…ì„± ë° ìœ ì§€ë³´ìˆ˜ì„± ëŒ€í­ í–¥ìƒ
- ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸ ìƒì„±

### ë°°ìš´ ì 
- íŒŒì¼ í¬ê¸° 300ì¤„ ì´ìƒì´ë©´ ë¦¬íŒ©í† ë§ ê³ ë ¤
- ìœ„ì ¯ ë¶„ë¦¬ë¥¼ í†µí•œ ë‹¨ì¼ ì±…ì„ ì›ì¹™ ì¤€ìˆ˜
- Clean Architecture ì ìš©ìœ¼ë¡œ í™•ì¥ì„± í™•ë³´

---

